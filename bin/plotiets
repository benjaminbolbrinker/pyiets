#!/usr/bin/env python3
import sys
import numpy as np
import matplotlib.pyplot as plt


if __name__ == '__main__':
    filename = sys.argv[1]
    savepic = sys.argv[2]

    iets = np.loadtxt(filename, dtype={
        'names': ('mode_idx', 'wavenumber', 'energy', 'intensity'),
        'formats': ('i8', 'f8', 'f8', 'f8')
        })
    max_intensity = max(iets['intensity'])
    for idx, wavenumber in enumerate(iets['wavenumber']):
        plt.axvline(x=wavenumber, ymax=iets['intensity'][idx]/max_intensity)

    plt.xlim([600, 2200])
    plt.savefig(savepic)
